// "use strict";var $=window.jQuery;$(document).ready(function(){$("select").selectOrDie(),$(".countdown").downCount({date:"01/01/2017 12:00:00",offset:10},function(){alert("WOOT WOOT, done!")});var e=$(".header-main").offset().top;$(window).bind("scroll",function(){$(window).scrollTop()>e?$(".header-main").addClass("change"):(e=$(".header-main").offset().top,$(".header-main").removeClass("change"))});var t=$("#top");if($(t).hide(),$(window).scroll(function(){$(this).scrollTop()>75?t.fadeIn():t.fadeOut()}),$(window).width()<950){$("header").height()+60}if($(window).width()<950)var o=$("header").height()+60;else var o=$("header").height()+60;$("header nav ul a,.findout-more ,.logo, .scroll-down, #top,.register-now").smoothScroll({offset:-o,direction:"top",scrollTarget:null,beforeScroll:function(){},afterScroll:function(){},easing:"easeInOutExpo",speed:1e3,autoCoefficent:2,preventDefault:!0}),$.Isotope.prototype._getCenteredMasonryColumns=function(){this.width=this.element.width();var e=this.element.parent().width(),t=this.options.masonry&&this.options.masonry.columnWidth||this.$filteredAtoms.outerWidth(!0)||e,o=Math.floor(e/t);o=Math.max(o,1),this.masonry.cols=o,this.masonry.columnWidth=t},$.Isotope.prototype._masonryReset=function(){this.masonry={},this._getCenteredMasonryColumns();var e=this.masonry.cols;for(this.masonry.colYs=[];e--;)this.masonry.colYs.push(0)},$.Isotope.prototype._masonryResizeChanged=function(){var e=this.masonry.cols;return this._getCenteredMasonryColumns(),this.masonry.cols!==e},$.Isotope.prototype._masonryGetContainerSize=function(){for(var e=0,t=this.masonry.cols;--t&&0===this.masonry.colYs[t];)e++;return{height:Math.max.apply(Math,this.masonry.colYs),width:(this.masonry.cols-e)*this.masonry.columnWidth}},$("#filter_content").isotope();var i=$("#filter_content");i.isotope({animationOptions:{duration:750,queue:!1}}),$(".filters a").click(function(){var e=$(this).attr("data-filter");return i.isotope({filter:e}),!1}),$("#people-slider").owlCarousel({items:1,margin:0,loop:!0,smartSpeed:450}),$(".people-say .prev").click(function(){$("#people-slider").trigger("prev")}),$(".people-say .next").click(function(){$("#people-slider").trigger("next")}),$("#when-slider").owlCarousel({items:1,margin:0,loop:!0,smartSpeed:450}),$(".when-section .prev").click(function(){$("#when-slider").trigger("prev")}),$(".when-section .next").click(function(){$("#when-slider").trigger("next")}),$(".popup-modal").magnificPopup({type:"inline",midClick:!0,removalDelay:50,callbacks:{beforeOpen:function(){this.st.image.markup=this.st.image.markup.replace("mfp-figure","mfp-figure mfp-with-anim"),this.st.mainClass=this.st.el.attr("data-effect")}}}),$(".mfp-close").magnificPopup({mainClass:"mfp-with-fade",removalDelay:500,callbacks:{beforeClose:function(){this.content.addClass("hinge")},close:function(){this.content.removeClass("hinge")}},midClick:!0}),$(".popup-gallery").each(function(){$(this).magnificPopup({delegate:"a",type:"image",removalDelay:500,tLoading:"Loading image #%curr%...",mainClass:"mfp-img-mobile",fixedContentPos:!0,gallery:{enabled:!0,navigateByImgClick:!0,preload:[0,1]},image:{tError:'<a href="%url%">The image #%curr%</a> could not be loaded.',titleSrc:function(e){return e.el.attr("title")+"<small></small>"}},callbacks:{beforeOpen:function(){this.st.image.markup=this.st.image.markup.replace("mfp-figure","mfp-figure mfp-with-anim"),this.st.mainClass=this.st.el.attr("data-effect")}}})}),$(".popup-youtube, .popup-vimeo").magnificPopup({type:"iframe",removalDelay:50,preloader:!1,fixedContentPos:!0,callbacks:{beforeOpen:function(){this.st.image.markup=this.st.image.markup.replace("mfp-figure","mfp-figure mfp-with-anim"),this.st.mainClass=this.st.el.attr("data-effect")}}});var a=function(e){var t=["one","two","three","four","five"],o=Math.floor(4*Math.random()),i=t[o];return $(e).html(i),i},n=a(".test p span");$("input[name=rand]").on("click",function(){$("input[name=rand]").parent().removeClass("active1"),$("input[name=rand]:checked").parent().addClass("active1")});var r=function(e,t){$(".popup-email").fadeIn("fast"),$(".element p").remove(),$(".element").prepend('<p class="'+t+'">'+e+"</p>")},s=function(e){$(e).fadeOut("fast")};$("#btn").on("click",function(){s(".popup-email")}),$(".contact-form").validate({errorElement:"p",errorClass:"notify",rules:{name:"required",subject:"required",mail:{required:!0,email:!0},message:"required"},submitHandler:function(e){$("input[name=rand]:checked").val()===n?$.post("form_data.php",$(e).serialize(),function(t){$(e)[0].reset(),n=a(".test p span"),s(".contact-wrap"),r(t.msg,t["class"])},"json"):r("Incorrect number selected!","error")}}),$(".comment-form").validate({errorElement:"p",errorClass:"notify",rules:{name:"required",subject:"required",mail:{required:!0,email:!0},message:"required"},submitHandler:function(e){$("input[name=rand]:checked").val()===n?$.post("form_data.php",$(e).serialize(),function(t){$(e)[0].reset(),n=a(".test p span"),s(".contact-wrap"),r(t.msg,t["class"])},"json"):r("Incorrect number selected!","error")}});var l=[{featureType:"administrative",stylers:[{visibility:"off"}]},{featureType:"poi",stylers:[{visibility:"off"},{color:"#ffffff"}]},{featureType:"road",stylers:[{visibility:"on"},{color:"#ffffff"}]},{featureType:"transit",stylers:[{visibility:"off"}]},{featureType:"landscape",stylers:[{visibility:"on"},{color:"#B3B3B3"}]},{featureType:"water",stylers:[{visibility:"on"},{color:"#14a1fb"}]}],p=new google.maps.StyledMapType(l,{name:"Styled Map"}),c={zoom:13,center:new google.maps.LatLng(45.258493,19.836867),scrollwheel:!1,mapTypeControl:!1,disableDefaultUI:!1,draggable:!1,mapTypeControlOptions:{mapTypeIds:[google.maps.MapTypeId.ROADMAP,"map"]}},m=new google.maps.Map(document.getElementById("map"),c);new google.maps.Marker({position:new google.maps.LatLng(45.258493,19.836867),map:m,icon:"images/pin.svg"});m.mapTypes.set("map",p),m.setMapTypeId("map"),$(".map-info-box >a").on("click",function(){$(this).parent().toggleClass("active"),$(this).parent().hasClass("active")?$(this).children().text("LESS DETAILS"):$(this).children().text("MORE DETAILS")}),$(".register-now").on("click",function(){$(".register-popup").toggleClass("active")}),$(".register-popup .close-popup, .register-popup .overlay-popup").on("click",function(){$(".register-popup").toggleClass("active")}),$(document).on("click",".drop-link",function(){$(this).find(".drop-down").slideToggle("fast")})}),$(window).load(function(){$(document).on("click",".bars",function(){$("nav").toggleClass("active")})});

'use strict';

var $ = window.jQuery;


//ON DOCUMENT READY
$(document).ready(function() {

    //SVG for Everybody (ie9+, ...)
    // svg4everybody();
    $("select").selectOrDie();

    $('.countdown').downCount({
        date: '01/01/2017 12:00:00',
        offset: +10
    }, function() {
        // alert('WOOT WOOT, done!');
    });

    /*-------------------------------------------------*/
    /* =  header style change
    /*-------------------------------------------------*/

    var num = $('.header-main').offset().top;

    $(window).bind('scroll', function() {

        if ($(window).scrollTop() > num) {
            $('.header-main').addClass('change');
        } else {
            num = $('.header-main').offset().top;
            $('.header-main').removeClass('change');

        }
    });

    /*-------------------------------------------------*/
    /* =  Back to top
    /*-------------------------------------------------*/

    var back_top = $("#top");

    if ($(back_top).hide(), $(window).scroll(function() {
            $(this).scrollTop() > 75 ? back_top.fadeIn() : back_top.fadeOut()
        }), $(window).width() < 950) var n = $("header").height() + 60;

    /*-------------------------------------------------*/
    /* =  scroll on link
    /*-------------------------------------------------*/

    if ($(window).width() < 950) {
        var top_ofset = $('header').height() + 60;
    } else {
        var top_ofset = $('header').height() + 60;
    }


    $('header nav ul a,.findout-more ,.logo, .scroll-down, #top,.register-now').smoothScroll({
        offset: -top_ofset,
        // one of 'top' or 'left'
        direction: 'top',
        // only use if you want to override default behavior
        scrollTarget: null,
        // fn(opts) function to be called before scrolling occurs.
        // `this` is the element(s) being scrolled
        beforeScroll: function() {},
        // fn(opts) function to be called after scrolling occurs.
        // `this` is the triggering element
        afterScroll: function() {},
        easing: 'easeInOutExpo',
        speed: 1000,
        // coefficient for "auto" speed
        autoCoefficent: 2,
        // $.fn.smoothScroll only: whether to prevent the default click action
        preventDefault: true
    });


    /*-------------------------------------------------*/
    /* =  Izotope
    /*-------------------------------------------------*/
    $.Isotope.prototype._getCenteredMasonryColumns = function() {
        this.width = this.element.width();

        var parentWidth = this.element.parent().width();

        // i.e. options.masonry && options.masonry.columnWidth
        var colW = this.options.masonry && this.options.masonry.columnWidth ||
            // or use the size of the first item
            this.$filteredAtoms.outerWidth(true) ||
            // if there's no items, use size of container
            parentWidth;

        var cols = Math.floor(parentWidth / colW);
        cols = Math.max(cols, 1);

        // i.e. this.masonry.cols = ....
        this.masonry.cols = cols;
        // i.e. this.masonry.columnWidth = ...
        this.masonry.columnWidth = colW;
    };

    $.Isotope.prototype._masonryReset = function() {
        // layout-specific props
        this.masonry = {};
        // FIXME shouldn't have to call this again
        this._getCenteredMasonryColumns();
        var i = this.masonry.cols;
        this.masonry.colYs = [];
        while (i--) {
            this.masonry.colYs.push(0);
        }
    };

    $.Isotope.prototype._masonryResizeChanged = function() {
        var prevColCount = this.masonry.cols;
        // get updated colCount
        this._getCenteredMasonryColumns();
        return (this.masonry.cols !== prevColCount);
    };

    $.Isotope.prototype._masonryGetContainerSize = function() {
        var unusedCols = 0,
            i = this.masonry.cols;
        // count unused columns
        while (--i) {
            if (this.masonry.colYs[i] !== 0) {
                break;
            }
            unusedCols++;
        }

        return {
            height: Math.max.apply(Math, this.masonry.colYs),
            // fit container to columns that have been used;
            width: (this.masonry.cols - unusedCols) * this.masonry.columnWidth
        };
    };
    $('#filter_content').isotope();

    // cache filter_content
    var $filter_content = $('#filter_content');
    // initialize isotope
    $filter_content.isotope({
        animationOptions: {
            duration: 750,
            queue: false
        }
    });
    // filter items when filter link is clicked
    $('.filters a').click(function() {
        var selector = $(this).attr('data-filter');
        $filter_content.isotope({ filter: selector });
        return false;
    });

    $('#people-slider').owlCarousel({
        items: 1,
        margin: 0,
        loop: true,
        smartSpeed: 450
    });

    $(".people-say .prev").click(function() {
        $('#people-slider').trigger('prev');
    });

    $(".people-say .next").click(function() {
        $('#people-slider').trigger('next');
    });

    $('#when-slider').owlCarousel({
        items: 1,
        margin: 0,
        loop: true,
        smartSpeed: 450
    });

    $(".when-section .prev").click(function() {
        $('#when-slider').trigger('prev');
    });

    $(".when-section .next").click(function() {
        $('#when-slider').trigger('next');
    });

    /*-------------------------------------------------*/
    /* =  magnific popup
    /*-------------------------------------------------*/

    $('.popup-modal').magnificPopup({
        type: 'inline',
        midClick: true,
        removalDelay: 50,
        callbacks: {
            // open: function() {
            //   $('.mfp-close').empty().append(close_icon);
            // },
            beforeOpen: function() {
                // just a hack that adds mfp-anim class to markup
                this.st.image.markup = this.st.image.markup.replace('mfp-figure', 'mfp-figure mfp-with-anim');
                this.st.mainClass = this.st.el.attr('data-effect');
            }
        }
    });


    $('.mfp-close').magnificPopup({
        mainClass: 'mfp-with-fade',
        removalDelay: 500, //delay removal by X to allow out-animation
        callbacks: {
            beforeClose: function() {
                this.content.addClass('hinge');
            },
            close: function() {
                this.content.removeClass('hinge');
            }
        },
        midClick: true
    });

    $('.popup-gallery').each(function() {

        $(this).magnificPopup({
            delegate: 'a',
            type: 'image',
            removalDelay: 500,
            tLoading: 'Loading image #%curr%...',
            mainClass: 'mfp-img-mobile',
            fixedContentPos: true,
            gallery: {
                enabled: true,
                navigateByImgClick: true,
                preload: [0, 1] // Will preload 0 - before current, and 1 after the current image
            },
            image: {
                tError: '<a href="%url%">The image #%curr%</a> could not be loaded.',
                titleSrc: function(item) {
                    return item.el.attr('title') + '<small></small>';
                }
            },
            callbacks: {
                // open: function() {
                //   $('.mfp-close').empty().append(close_icon);
                // },
                beforeOpen: function() {
                    // just a hack that adds mfp-anim class to markup
                    this.st.image.markup = this.st.image.markup.replace('mfp-figure', 'mfp-figure mfp-with-anim');
                    this.st.mainClass = this.st.el.attr('data-effect');
                }
            }
        });
    });

    $('.popup-youtube, .popup-vimeo').magnificPopup({
        type: 'iframe',
        // mainClass: 'mfp-fade',
        removalDelay: 50,
        preloader: false,
        fixedContentPos: true,
        callbacks: {
            // open: function() {
            //   $('.mfp-close').empty().append(close_icon);
            // },
            beforeOpen: function() {
                // just a hack that adds mfp-anim class to markup
                this.st.image.markup = this.st.image.markup.replace('mfp-figure', 'mfp-figure mfp-with-anim');
                this.st.mainClass = this.st.el.attr('data-effect');
            }
        }
    });

    /*-------------------------------------------------*/
    /* =  Generate random number for form check
    /*-------------------------------------------------*/
    var generateRandom = function(element) {
        var word = ['one', 'two', 'three', 'four', 'five'];
        var rand = (Math.floor(Math.random() * 4));
        var correct = word[rand];
        $(element).html(correct);
        return correct;
    }

    var correct = generateRandom('.test p span');

    /*-------------------------------------------------*/
    /* =  Highlighting checked radio button
    /*-------------------------------------------------*/
    $('input[name=rand]').on('click', function() {
        $('input[name=rand]').parent().removeClass('active1');
        $('input[name=rand]:checked').parent().addClass('active1');
    });

    /*-------------------------------------------------*/
    /* =  Popup notification
    /*-------------------------------------------------*/
    var showNotification = function(message, className) {
        $('.popup-email').fadeIn('fast');
        $('.element p').remove();
        $('.element').prepend('<p class="' + className + '">' + message + '</p>');
    }

    var closeNotification = function(element) {
        $(element).fadeOut('fast');
    }

    $('#btn').on('click', function() {
        closeNotification('.popup-email');
    });

    /*-------------------------------------------------*/
    /* =  Form validation
    /*-------------------------------------------------*/

    $('.contact-form').validate({
        errorElement: 'p',
        errorClass: 'notify',
        rules: {
            name: "required",
            subject: "required",
            mail: { required: true, email: true },
            message: "required"
        },
        submitHandler: function(form) {
            if ($('input[name=rand]:checked').val() === correct) {
                $.post('form_data.php', $(form).serialize(), function(response) {
                    $(form)[0].reset();
                    correct = generateRandom('.test p span');
                    closeNotification('.contact-wrap');
                    showNotification(response.msg, response.class);
                }, 'json');
            } else showNotification('Incorrect number selected!', 'error');

        }
    });

    $('.comment-form').validate({
        errorElement: 'p',
        errorClass: 'notify',
        rules: {
            name: "required",
            subject: "required",
            mail: { required: true, email: true },
            message: "required"
        },
        submitHandler: function(form) {
            if ($('input[name=rand]:checked').val() === correct) {
                $.post('form_data.php', $(form).serialize(), function(response) {
                    $(form)[0].reset();
                    correct = generateRandom('.test p span');
                    closeNotification('.contact-wrap');
                    showNotification(response.msg, response.class);
                }, 'json');
            } else showNotification('Incorrect number selected!', 'error');

        }
    });

    $('.map-info-box >a').on('click', function() {
        $(this).parent().toggleClass('active');
        if ($(this).parent().hasClass('active')) {
            $(this).children().text('MORE DETAILS');
        } else {
            $(this).children().text('LESS DETAILS');

        }
    });



    $('.register-now').on('click', function() {
        $('.register-popup').toggleClass('active');
    });

    $('.register-popup .close-popup, .register-popup .overlay-popup').on('click', function() {
        $('.register-popup').toggleClass('active');
    });


    $(document).on('click', '.drop-link', function() {
        $(this).find('.drop-down').slideToggle('fast');
    });

});



//WINDOW ONLOAD
$(window).load(function() {

    $(document).on('click', '.bars', function() {
        $('nav').toggleClass('active');
    });

});